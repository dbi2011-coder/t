<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒØ±Ø§Øª Ø§Ù„Ù…Ù„ÙˆÙ†Ø© Ù„Ù„Ø£Ø·ÙØ§Ù„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial Rounded MT Bold', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border: 8px solid #FFD700;
        }

        h1 {
            color: #FF6B6B;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 3px 3px 0 #FFD700;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .instructions {
            background: #E3F2FD;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 3px dashed #4ECDC4;
            font-size: 1.2em;
            color: #333;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 15px;
            margin: 30px auto;
            max-width: 500px;
            background: #FFD700;
            padding: 20px;
            border-radius: 20px;
            border: 5px solid #FF6B6B;
        }

        .cell {
            background: white;
            border-radius: 15px;
            min-height: 120px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 15px;
            border: 4px solid #4ECDC4;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .cell.empty {
            background: #F8BBD9;
            border: 4px dashed #FF4081;
        }

        .cell.center-with-ball {
            background: white;
            border: 4px solid #4ECDC4;
        }

        .cell:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
        }

        .ball {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: grab;
            transition: all 0.3s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            border: 3px solid white;
            background: linear-gradient(45deg, #2E7D32, #4CAF50);
            background-image: 
                radial-gradient(circle at 30% 30%, #4CAF50, #1B5E20),
                radial-gradient(circle at 70% 70%, #81C784, #2E7D32);
        }

        .ball::before {
            content: "âš¾";
            font-size: 1.2em;
        }

        .ball:hover {
            transform: scale(1.2);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .ball:active {
            cursor: grabbing;
            transform: scale(1.3);
        }

        .ball.dragging {
            opacity: 0.7;
            transform: scale(1.4);
        }

        .special-ball {
            background: linear-gradient(45deg, #FF6B6B, #FF4081);
            background-image: 
                radial-gradient(circle at 30% 30%, #FF4081, #C2185B),
                radial-gradient(circle at 70% 70%, #FF6B6B, #D81B60);
        }

        .special-ball::before {
            content: "â­";
        }

        .controls {
            margin-top: 25px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            font-weight: bold;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .fun-facts {
            background: #E3F2FD;
            padding: 15px;
            border-radius: 15px;
            margin-top: 25px;
            border: 3px solid #4ECDC4;
        }

        .fun-facts h3 {
            color: #FF6B6B;
            margin-bottom: 10px;
        }

        .counter {
            background: #FFEB3B;
            padding: 10px;
            border-radius: 10px;
            margin: 15px auto;
            max-width: 300px;
            border: 2px solid #FF9800;
            font-weight: bold;
        }

        .quiz-section {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            padding: 20px;
            border-radius: 15px;
            margin: 15px auto;
            max-width: 500px;
            border: 3px solid #FFD700;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .quiz-section h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .quiz-question {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 2px solid #FFD700;
        }

        @media (max-width: 600px) {
            .game-board {
                gap: 10px;
                padding: 15px;
            }
            
            .cell {
                min-height: 100px;
                padding: 10px;
            }
            
            .ball {
                width: 35px;
                height: 35px;
            }
            
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒØ±Ø§Øª Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ âš¾</h1>
        
      
        <div class="counter">
            <p>ğŸ§® Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø§Ù„ÙŠ: <span id="ballCount">17</span> ÙƒØ±Ø©</p>
            <p>âš¡ Ø§Ù„ÙƒØ±Ø© ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ: <span style="color: #FF4081;">Ø®Ø§ØµØ© â­</span></p>
        </div>

        <div class="quiz-section">
            <h3>ğŸ¯ Ø¬Ø§ÙˆØ¨ ÙˆØ§Ø±Ø¨Ø­ Ù…Ø¹ Ø§Ù„Ø£Ø³ØªØ§Ø° ØµØ§Ù„Ø­ Ø§Ù„Ø¹Ø¬Ù„Ø§Ù†</h3>
            <div class="quiz-question">
                <p><strong>Ø§Ù„Ø³Ø¤Ø§Ù„:</strong> ÙŠÙˆØ¬Ø¯ ÙÙŠ ÙƒÙ„ ØµÙ ÙˆØ¹Ù…ÙˆØ¯ 6 ÙƒØ±Ø§Øª Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø¶ÙÙ†Ø§ ÙƒØ±Ø© Ù…Ù† Ø§Ù„Ù…Ù†ØªØµÙ Ù„Ù… ÙŠØªØºÙŠØ± Ø§Ù„Ø¹Ø¯Ø¯</p>
                <p><strong>Ø§Ù„ØªØ­Ø¯ÙŠ:</strong> Ø§ÙƒØªØ´Ù ÙƒÙŠÙ Ø­Ø¯Ø« Ø°Ù„Ùƒ ØŸ!</p>
            </div>
        </div>

        <div class="game-board" id="gameBoard">
            <!-- Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
        </div>

        <div class="controls">
            <button onclick="resetGame()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
            <button onclick="addSpecialBallToCenter()">â• Ø¥Ø¶Ø§ÙØ© ÙƒØ±Ø© Ø®Ø§ØµØ© ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ</button>
        </div>

        <div class="fun-facts">
            <h3>ğŸ’¡ ØªØ­Ø¯ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±:</h3>
            <p>ÙŠØ¬Ø¨ Ø£Ù† ØªØ­Ù‚Ù‚ ÙÙŠ Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„ÙƒØ±Ø© ÙŠØ§Ø¨Ø·Ù„  ğŸ§ </p>
        </div>
    </div>

    <script>
        let totalBalls = 17;

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ù„ÙƒØ±Ø§Øª
        function createGameBoard() {
            const gameBoard = document.getElementById('gameBoard');
            gameBoard.innerHTML = '';
            totalBalls = 17;

            // Ø¥Ù†Ø´Ø§Ø¡ 9 Ø®Ù„Ø§ÙŠØ§
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.dataset.index = i;
                
                // Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„ÙˆØ³Ø·Ù‰ (Ø±Ù‚Ù… 4) ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒØ±Ø© Ø®Ø§ØµØ©
                if (i === 4) {
                    cell.classList.add('center-with-ball');
                    createSpecialBall(cell);
                } else {
                    // Ø¥Ø¶Ø§ÙØ© ÙƒØ±ØªÙŠÙ† Ù„ÙƒÙ„ Ø®Ù„ÙŠØ©
                    for (let j = 0; j < 2; j++) {
                        createBall(cell);
                    }
                }
                
                // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¥ÙÙ„Ø§Øª Ù„Ù„Ø®Ù„Ø§ÙŠØ§
                cell.addEventListener('dragover', handleDragOver);
                cell.addEventListener('drop', handleDrop);
                
                gameBoard.appendChild(cell);
            }
            updateCounter();
        }

        function createBall(parentCell) {
            const ball = document.createElement('div');
            ball.className = 'ball';
            ball.draggable = true;
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ø­Ø¨
            ball.addEventListener('dragstart', handleDragStart);
            ball.addEventListener('dragend', handleDragEnd);
            
            parentCell.appendChild(ball);
            return ball;
        }

        function createSpecialBall(parentCell) {
            const ball = document.createElement('div');
            ball.className = 'ball special-ball';
            ball.draggable = true;
            ball.title = 'ÙƒØ±Ø© Ø®Ø§ØµØ© - ÙŠÙ…ÙƒÙ† ØªØ­Ø±ÙŠÙƒÙ‡Ø§ Ù„Ø£ÙŠ Ù…ÙƒØ§Ù†';
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ø­Ø¨
            ball.addEventListener('dragstart', handleDragStart);
            ball.addEventListener('dragend', handleDragEnd);
            
            parentCell.appendChild(ball);
            return ball;
        }

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø³Ø­Ø¨
        let draggedBall = null;

        function handleDragStart(e) {
            draggedBall = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', this.innerHTML);
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
            draggedBall = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
            return false;
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            
            if (draggedBall && this.classList.contains('cell')) {
                // Ù†Ù‚Ù„ Ø§Ù„ÙƒØ±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                this.appendChild(draggedBall);
                
                // ØªØ­Ø¯ÙŠØ« ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„ÙˆØ³Ø·Ù‰ Ø¥Ø°Ø§ Ø£ØµØ¨Ø­Øª ÙØ§Ø±ØºØ©
                updateCenterCell();
                
                // ØªØ£Ø«ÙŠØ± Ù†Ø¬Ø§Ø­
                this.style.background = '#C8E6C9';
                setTimeout(() => {
                    this.style.background = 'white';
                }, 300);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
                updateCounter();
                playMoveSound();
            }
            
            return false;
        }

        function updateCenterCell() {
            const centerCell = document.querySelector('.cell[data-index="4"]');
            if (centerCell.children.length === 0) {
                centerCell.classList.add('empty');
                centerCell.classList.remove('center-with-ball');
                centerCell.innerHTML = '<div style="color: #FF4081; font-size: 1.5em;">ğŸª</div>';
            } else {
                centerCell.classList.remove('empty');
                centerCell.classList.add('center-with-ball');
            }
        }

        function playMoveSound() {
            // Ù…Ø­Ø§ÙƒØ§Ø© ØµÙˆØª Ø¨ÙˆØ§Ø³Ø·Ø© Ù†ØºÙ…Ø© Ø¨Ø³ÙŠØ·Ø©
            const context = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = context.createOscillator();
            const gainNode = context.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(context.destination);
            
            oscillator.frequency.value = 523.25;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, context.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5);
            
            oscillator.start(context.currentTime);
            oscillator.stop(context.currentTime + 0.5);
        }

        function updateCounter() {
            const ballCountElement = document.getElementById('ballCount');
            const balls = document.querySelectorAll('.ball');
            totalBalls = balls.length;
            ballCountElement.textContent = totalBalls;
        }

        function resetGame() {
            createGameBoard();
            
            // ØªØ£Ø«ÙŠØ± Ù…Ø±Ø¦ÙŠ Ù„Ù„Ø¥Ø¹Ø§Ø¯Ø©
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => {
                cell.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    cell.style.transform = 'scale(1)';
                }, 300);
            });
        }

        function addSpecialBallToCenter() {
            const centerCell = document.querySelector('.cell[data-index="4"]');
            if (centerCell) {
                createSpecialBall(centerCell);
                updateCenterCell();
                
                // ØªØ£Ø«ÙŠØ± Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒØ±Ø©
                const newBall = centerCell.querySelector('.ball:last-child');
                newBall.style.transform = 'scale(0)';
                setTimeout(() => {
                    newBall.style.transform = 'scale(1)';
                }, 100);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
                updateCounter();
                
                // ØªØ£Ø«ÙŠØ± Ø®Ø§Øµ
                centerCell.style.background = '#FFEB3B';
                setTimeout(() => {
                    centerCell.style.background = 'white';
                }, 500);
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', createGameBoard);
    </script>
</body>

</html>
